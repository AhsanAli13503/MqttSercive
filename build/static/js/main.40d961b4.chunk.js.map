{"version":3,"sources":["Battery.jpg","Components/DashBoard.js","Components/Header.js","Components/Login.js","App.js","index.js"],"names":["DashBoard","state","batteryData","dataApi","setInterval","dataFromHardware","a","topicName","props","url","fetch","res","json","message","_size","length","newArray","data","volt","i","push","setState","battery","index","style","display","margin","alt","src","widows","height","transform","textAlign","color","fontWeight","marginTop","this","flexDirection","backgroundColor","width","borderRadius","elevation","marginLeft","fontFamily","fontStyle","fontSize","paddingRight","onClick","onLogout","justifyContent","alignItems","map","indec","React","Component","Header","className","paddingTop","Login","currentAppState","userName","password","error","checkValidity","check","indexOf","console","log","onChangeText","eve","target","id","value","onLogin","trim","alignContent","placeholder","padding","onChange","type","paddingLeft","paddingBottom","App","propsState","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.40d961b4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Battery.25d04eb8.jpg\";","import React from \"react\";\r\nimport battery from \"../Battery.jpg\";\r\nclass DashBoard extends React.Component {\r\n  state = {\r\n    batteryData: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.dataFromHardware();\r\n    this.dataApi();\r\n  }\r\n  dataApi = () => {\r\n    setInterval(() => {\r\n      this.dataFromHardware();\r\n    }, 10000);\r\n  };\r\n  dataFromHardware = async () => {\r\n    //console.log(this.props.topicName)\r\n    let { topicName } = this.props;\r\n    let url = `/api?userName=${topicName}`;\r\n    let res = await fetch(url);\r\n    res = await res.json();\r\n    //console.log(\"res\",res)\r\n    let { message } = res;\r\n\r\n    let _size = message.length;\r\n    let newArray = [];\r\n    var data = [];\r\n    let volt = 0\r\n    for (let i = 0; i < _size/2; i++) {\r\n      volt = message[i*2];\r\n      volt = volt + (message[i*2+1] << 8);\r\n      volt = volt /1000.0;\r\n      if ((i+1)%3 === 0) \r\n      {\r\n        data.push(volt)\r\n        newArray.push(data);\r\n        data = [];\r\n      }\r\n      else{\r\n        data.push(volt)\r\n      } \r\n      \r\n    }\r\n    this.setState({\r\n      batteryData: newArray,\r\n    });\r\n  };\r\n\r\n  battery = (batteryData, index) => (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        margin: \"10px\",\r\n      }}\r\n    >\r\n      <img\r\n        alt=\"battery\"\r\n        src={battery}\r\n        style={{ widows: \"80px\", height: \"80px\", transform: \" rotate(90deg)\" }}\r\n      />\r\n      <div\r\n        style={{\r\n          textAlign: \"center\",\r\n          color: \"black\",\r\n          fontWeight: \"bold\",\r\n          marginTop: \"25px\",\r\n        }}\r\n      >\r\n        {batteryData}\r\n      </div>\r\n    </div>\r\n  );\r\n  render() {\r\n    const { batteryData } = this.state;\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            backgroundColor: \"#84e09d\",\r\n            color: \"white\",\r\n            width: \"20%\",\r\n            borderRadius: 10,\r\n            elevation: 1,\r\n          }}\r\n        >\r\n          <h1\r\n            style={{\r\n              marginLeft: \"10px\",\r\n              fontWeight: \"bold\",\r\n              fontFamily: \"Candara\",\r\n              fontStyle: \"italic\",\r\n              fontSize: \"20px\",\r\n            }}\r\n          >\r\n            DashBoard\r\n          </h1>\r\n          <h2\r\n            style={{\r\n              marginLeft: \"10px\",\r\n              fontWeight: \"bold\",\r\n              fontFamily: \"Candara\",\r\n              fontStyle: \"italic\",\r\n              fontSize: \"20px\",\r\n              width: \"90%\",\r\n            }}\r\n          >\r\n            bms\r\n          </h2>\r\n          <h2\r\n            style={{\r\n              marginLeft: \"10px\",\r\n              fontWeight: \"bold\",\r\n              fontFamily: \"Candara\",\r\n              fontStyle: \"italic\",\r\n              fontSize: \"20px\",\r\n              paddingRight: \"10px\",\r\n            }}\r\n            onClick={() => this.props.onLogout()}\r\n          >\r\n            logout\r\n          </h2>\r\n        </div>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            fontFamily: \"Candara\",\r\n            fontStyle: \"italic\",\r\n            fontSize: \"15px\",\r\n            // backgroundColor:'#f5f9ff'\r\n          }}\r\n        >\r\n          {batteryData.length === 0 ? (\r\n            <div>No Data publish on Topic:{this.props.topicName}</div>\r\n          ) : (\r\n            batteryData.map((data, indec) => (\r\n              <div key={indec} style={{ display: \"flex\" }}>\r\n                {data.map((batteryData, index) =>\r\n                  this.battery(batteryData, index)\r\n                )}\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DashBoard;\r\n","import React from \"react\";\r\n\r\nclass Header extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"App-header\">\r\n        <h1 style={{ fontFamily: \"Candara\", fontSize: \"30px\" }}>bms</h1>\r\n        <p\r\n          style={{\r\n            marginLeft: 10,\r\n            paddingTop: 5,\r\n            fontFamily: \"Candara\",\r\n            fontStyle: \"italic\",\r\n            fontSize: \"15px\",\r\n            \r\n          }}\r\n        >\r\n          A Managment And Analytics\r\n        </p>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Header;\r\n","import React from \"react\";\r\nimport DashBoard from \"./DashBoard\";\r\nimport Header from \"./Header\";\r\n\r\nclass Login extends React.Component {\r\n  state = {\r\n    currentAppState: 0,\r\n    userName: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n  };\r\n\r\n  checkValidity = () => {\r\n    var check = this.state.userName.indexOf(\"/\");\r\n    console.log(\"check\", check);\r\n    if (check === -1) {\r\n      this.setState({\r\n        error: \"/ must contain in username\",\r\n      });\r\n    } else {\r\n      this.setState({\r\n        error: \"\",\r\n      });\r\n    }\r\n  };\r\n\r\n  onChangeText = (eve) => {\r\n    const eve_target = eve.target.id;\r\n    eve_target === \"userName\"\r\n      ? this.setState(\r\n          {\r\n            userName: eve.target.value,\r\n          },\r\n          () => this.checkValidity()\r\n        )\r\n      : this.setState({\r\n          password: eve.target.value,\r\n        });\r\n  };\r\n  onLogin = () => {\r\n    const { userName } = this.state;\r\n    const { password } = this.state;\r\n    if (userName.trim().length === 0 || password.trim().length === 0) {\r\n      this.setState({\r\n        error: \"username/password must not be empty\",\r\n      });\r\n    } else {\r\n      this.setState({\r\n        error: \"\",\r\n        currentAppState: 1,\r\n      });\r\n    }\r\n  };\r\n  onLogout = () => {\r\n    this.setState({\r\n      currentAppState: 0,\r\n    });\r\n  };\r\n  render() {\r\n    return this.state.currentAppState === 0 ? (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n        }}\r\n      >\r\n        <Header currentAppState={this.state.currentAppState} />\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n            alignContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <h1>Login</h1>\r\n          <input\r\n            id=\"userName\"\r\n            placeholder=\"topic name\"\r\n            style={{ padding: 5 }}\r\n            onChange={this.onChangeText}\r\n          />\r\n          <br />\r\n          <br />\r\n          <input\r\n            id=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"password\"\r\n            style={{ padding: 5 }}\r\n            onChange={this.onChangeText}\r\n          />\r\n          <p style={{ color: \"#b60000\", fontWeight: \"bold\" }}>\r\n            {this.state.error}\r\n          </p>\r\n          <button\r\n            onClick={this.onLogin}\r\n            style={{\r\n              backgroundColor: \"#282c34\",\r\n              color: \"white\",\r\n              paddingLeft: 20,\r\n              paddingRight: 20,\r\n              paddingTop: 10,\r\n              paddingBottom: 10,\r\n            }}\r\n          >\r\n            Login\r\n          </button>\r\n          <br />\r\n          <br />\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <div style={{display:'flex',flexDirection:'column',height:'100%'}}>\r\n        <Header />\r\n        <br></br>\r\n        <DashBoard onLogout={this.onLogout} topicName ={this.state.userName} />\r\n      </div>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import \"./App.css\";\nimport React from \"react\";\n\nimport Login from \"./Components/Login\";\n\nclass App extends React.Component {\n  \n  render() {\n    return (\n      <div className=\"App\">\n        <Login\n          propsState={this.state}\n          onLogin={this.onLogin}\n          onChangeText={this.onChangeText}\n          checkValidity={this.checkValidity}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}